<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="assets/bootstrap/bootstrap-theme.min.css" rel="stylesheet" type="text/css"/>
        <link href="assets/bootstrap/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <script src="assets/bootstrap/bootstrap.min.js" type="text/javascript"></script>
        <script src="assets/jquery/jquery-2.2.3.min.js" type="text/javascript"></script>
        <script src="assets/js/models/student.model.js" type="text/javascript"></script>
    </head>
    <body>
        <div class="container" id="output">

            <!--            <div id="api"></div>
                        <script>
                            $(document).on("ready", function () {
            
                                loadContent();
                            });
            
                            function loadContent() {
                                $.getJSON("api/studentapi", null, function (data) {
                                    var content = "";
                                    $.each(data, function (i, o) {
                                        content += o.firstName + " " + o.lastName + " ";
            
                                    })
                                    $("#api").html(content);
                                })
                            }
                        </script>-->

            <div class="container">
                <h1 class ="header"> Student Management Sytem </h1>
            </div>


            <div  id="table-content">
                <div class="pull-right">
                    <p>
                        <a href="javascript:void(0)" class="btn btn-primary btn-sm" id="add-btn"> <span class="glyphicon glyphicon-plus"> </a>
                    </p>
                </div>
                <table class="table table-bordered table-hover table-striped">
                    <tr>
                        <th><input type="checkbox" id="check-all"/></th>
                        <th>Id</th>
                        <th>First name</th>
                        <th>Last name</th>
                        <th>Address</th>
                        <th>Contact</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>


                   
<!--                        <td>
                            <a href="" class="btn btn-success btn-sm"> <span class="glyphicon glyphicon-pencil"></span> </a>

                            <a href="" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure to delete this entry?')" ><span class="glyphicon glyphicon-trash" ></span> </a>

                        </td>-->
                   
                </table>
            </div>

            <div id="student-form" style="display:none"><h1>Add Student Information!</h1>



                <form role="form">
                    <div class="form-group">
                        <label >First Name</label>
                        <input name="firstName" type="text" class="form-control" required="required" id="firstName" placeholder="First Name">
                    </div>
                    <div class="form-group">
                        <label >Last Name</label>
                        <input name="lastName" type="text" class="form-control" required="required" id="lastName" placeholder="Last Name">
                    </div>
                    <div class="form-group">
                        <label >Address</label>
                        <input name="address" type="text" class="form-control" required="required" id="address" placeholder="Address">
                    </div>
                    <div class="form-group">
                        <label >Contact</label>
                        <input name="contact" type="text" class="form-control" required="required" id="contact" placeholder="Contact">
                    </div>
                    <div class="checkbox">
                        <label > <input type="checkbox" name="status" id="status"/>Status </label>

                    </div>


                    <a href="javascript:void(0)" class="btn btn-default btn-danger" id="back-btn">Back</a>
                    <button type="submit" class="btn btn-default btn-success" id="save-btn">Save</button>

            </div>


        </div>

        <script>


            $(document).on("ready", function () {

                $("#check-all").on("click", function () {
                    var $this = $(this);
                    $(".select-all").prop("checked", $this.is(":checked"));
                });
                $("#add-btn").on("click", function () {

                    $("#table-content").hide();
                    $("#student-form").slideToggle();
                });
                $("#back-btn").on("click", function () {

                    $("#student-form").slideToggle('auto', function () {
                        $("#table-content").show();
                    });

                });
                $("#save-btn").on("click", function () {
                    var student = new Student();
                    student.firstname = $("#firstName").val();
                    student.laststname = $("#lastName").val();
                    student.address = $("#address").val();
                    student.contact = $("#contact").val();
                    student.status = $("#status").is(":checked");

                    console.log(student);
                    return false;
                    $("#back-btn").click();
                    reload();
                });

            });
            
            function reload(){
                $table = $("#table-content");
                $.each(studentList.getAll(),function(i,o){
                   $tr =  $table.append("<tr></tr>");
                   $('<td><input type="checkbox" class="select-all"/></td>').appendTo($tr);
                   $('<td>'+o.id+'</td>').appendTo($tr);
                   $('<td>'+o.firstName+'</td>').appendTo($tr);
                   $('<td>'+o.lastName+'</td>').appendTo($tr);
                   $('<td>'+o.address+'</td>').appendTo($tr);
                   $('<td>'+o.contact+'</td>').appendTo($tr);
                   $('<td>'+o.status+'</td>').appendTo($tr);
                   $tr.appendTo($table);
                });
            }

        </script>
    </body>
</html>
